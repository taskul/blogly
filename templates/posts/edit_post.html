{% extends 'base.html' %}

{% block title %}Edit Post{% endblock %}

{% block content %}
<div class='main-container'>
    <div class='post-card'>
        <h1>Edit post:</h1>
        <p class='small-username'><small>User {{ user.first_name }} {{ user.last_name }}</small></p>
        <form action='/posts/{{post.id}}/edit' method='POST'>
            <label for='post-title'>Title</label><br>
            <input type='text' id='post-title' name='title' value='{{post.title}}'><br>
            <label for='post-content'>Content</label><br>
            <textarea id='post-content' name='content'>{{post.content}}</textarea>
            <br>
            <div class="tag-container">
                {% if post_tags %}
                {% for post_tag in post_tags %}
                <label class="tag">
                    {{ post_tag.name }}
                    <input type="checkbox" class="tag-checkbox" value="{{post_tag.name}}" checked="checked" name="tags">
                    <span class="delete-tag" data-tag_id="{{post_tag.id}}" data-post_id="{{post.id}}">X</span>
                </label>
                {% endfor %}
                {% endif %}
            </div>
            <br>
            <button type='submit' class='button-link'>Save</button>
            <a href='/posts/{{post.id}}'>
                <div class='button-link-user-cancel' role="button">Cancel</div>
            </a>
        </form>
        <form class="tags-input-form">
            <label for='post-tags'>Tags:</label>
            <input type='text' id='post-tags' minlength="2" maxlength="20">
        </form>
    </div>
</div>
{% endblock %}